{% extends 'base.html' %}
{% block content %}
<div class="container mt-4">
    <h2>{% if plantonista %}Editar{% else %}Nova{% endif %} Escala Plantonista</h2>
    <form method="post">
        <div class="mb-3">
            <label for="data" class="form-label">Data</label>
            <input type="date" class="form-control" id="data" name="data" required
                value="{{ plantonista.data if plantonista else '' }}">
        </div>
        <div class="mb-3">
            <label for="diurno_medico1_id" class="form-label">Diurno Médico 1</label>
            <select class="form-select" id="diurno_medico1_id" name="diurno_medico1_id" required>
                <option value="">Selecione</option>
                {% for doctor in doctors %}
                <option value="{{ doctor.id }}" {% if plantonista and plantonista.diurno_medico1_id == doctor.id
                    %}selected{% endif %}>{{ doctor.name }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="mb-3">
            <label for="diurno_medico2_id" class="form-label">Diurno Médico 2</label>
            <select class="form-select" id="diurno_medico2_id" name="diurno_medico2_id" required>
                <option value="">Selecione</option>
                {% for doctor in doctors %}
                <option value="{{ doctor.id }}" {% if plantonista and plantonista.diurno_medico2_id == doctor.id
                    %}selected{% endif %}>{{ doctor.name }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="mb-3">
            <label for="noturno_medico1_id" class="form-label">Noturno Médico 1</label>
            <select class="form-select" id="noturno_medico1_id" name="noturno_medico1_id" required>
                <option value="">Selecione</option>
                {% for doctor in doctors %}
                <option value="{{ doctor.id }}" {% if plantonista and plantonista.noturno_medico1_id == doctor.id
                    %}selected{% endif %}>{{ doctor.name }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="mb-3">
            <label for="noturno_medico2_id" class="form-label">Noturno Médico 2</label>
            <select class="form-select" id="noturno_medico2_id" name="noturno_medico2_id" required>
                <option value="">Selecione</option>
                {% for doctor in doctors %}
                <option value="{{ doctor.id }}" {% if plantonista and plantonista.noturno_medico2_id == doctor.id
                    %}selected{% endif %}>{{ doctor.name }}</option>
                {% endfor %}
            </select>
        </div>
        <button type="submit" class="btn btn-primary">Salvar</button>
        <a href="{{ url_for('plantonistas.list_plantonistas') }}" class="btn btn-secondary">Cancelar</a>
    </form>
</div>
{% endblock %}