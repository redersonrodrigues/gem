<!-- Componente dinâmico para Relatório Consolidado de Escalas -->
<style>
  @media print {
    @page {
      size: A4 landscape;
      margin: 10mm;
    }
    body {
      font-size: 12px;
    }
    .plantonistas-table {
      table-layout: fixed;
      width: 100%;
      border-collapse: collapse;
    }
    .plantonistas-table th,
    .plantonistas-table td {
      word-wrap: normal; /* Evitar quebras de linha */
      text-align: center;
      vertical-align: middle;
      border: 1px solid #ddd;
      padding: 4px;
    }
    .plantonistas-table th {
      background-color: #343a40;
      color: white;
    }
  }

  .plantonistas-table {
    table-layout: fixed;
    width: 100%;
    border-collapse: collapse;
  }
  .plantonistas-table th,
  .plantonistas-table td {
    word-wrap: normal; /* Evitar quebras de linha */
    text-align: center;
    vertical-align: middle;
    border: 1px solid #ddd;
    padding: 8px;
  }
  .plantonistas-table th {
    background-color: #343a40;
    color: white;
  }
  .plantonistas-table th:first-child,
  .plantonistas-table td:first-child {
    width: 100px; /* Largura fixa para a primeira coluna */
  }
  .plantonistas-table th:nth-child(n + 2):nth-child(-n + 11),
  .plantonistas-table td:nth-child(n + 2):nth-child(-n + 11) {
    width: calc(
      (100% - 100px) / 10
    ); /* Largura uniforme para as colunas 2 a 11 */
  }
  .plantonistas-table th:nth-child(n + 12):nth-child(-n + 21),
  .plantonistas-table td:nth-child(n + 12):nth-child(-n + 21),
  .plantonistas-table th:nth-child(n + 22):nth-child(-n + 30),
  .plantonistas-table td:nth-child(n + 22):nth-child(-n + 30) {
    width: calc((100% - 100px) / 10); /* Largura igual às colunas 2 a 11 */
  }
</style>

{% if days_and_weekdays %}
<table class="plantonistas-table">
  <thead>
    <tr>
      <th>PERIODO</th>
      {% for day, weekday in days_and_weekdays[:11] %}
      <th>
        {{ weekday[:3]|replace('Mon', 'Seg')|replace('Tue',
        'Ter')|replace('Wed', 'Qua')|replace('Thu', 'Qui')|replace('Fri',
        'Sex')|replace('Sat', 'Sáb')|replace('Sun', 'Dom') }}
      </th>
      {% endfor %}
    </tr>
    <tr>
      <th>DIA</th>
      {% for day, weekday in days_and_weekdays[:11] %}
      <th>{{ day }}</th>
      {% endfor %}
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>DIURNO</td>
      {% for row in diurno_rows[:11] %}
      <td>
        {% for medico in row.split(',') %}
        <div
          style="
            border-bottom: 1px solid #ddd;
            padding: 2px;
            font-size: 10px;
            font-family: 'Roboto', sans-serif;
          "
        >
          {{ medico.strip() }}
        </div>
        {% endfor %}
      </td>
      {% endfor %}
    </tr>
    <tr>
      <td>NOTURNO</td>
      {% for row in noturno_rows[:11] %}
      <td>
        {% for medico in row.split(',') %}
        <div
          style="
            border-bottom: 1px solid #ddd;
            padding: 2px;
            font-size: 10px;
            font-family: 'Roboto', sans-serif;
          "
        >
          {{ medico.strip() }}
        </div>
        {% endfor %}
      </td>
      {% endfor %}
    </tr>
  </tbody>
</table>

<table class="plantonistas-table">
  <thead>
    <tr>
      <th>PERIODO</th>
      {% for day, weekday in days_and_weekdays[11:22] %}
      <th>
        {{ weekday[:3]|replace('Mon', 'Seg')|replace('Tue',
        'Ter')|replace('Wed', 'Qua')|replace('Thu', 'Qui')|replace('Fri',
        'Sex')|replace('Sat', 'Sáb')|replace('Sun', 'Dom') }}
      </th>
      {% endfor %}
    </tr>
    <tr>
      <th>DIA</th>
      {% for day, weekday in days_and_weekdays[11:22] %}
      <th>{{ day }}</th>
      {% endfor %}
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>DIURNO</td>
      {% for row in diurno_rows[11:22] %}
      <td>
        {% for medico in row.split(',') %}
        <div
          style="
            border-bottom: 1px solid #ddd;
            padding: 2px;
            font-size: 10px;
            font-family: 'Roboto', sans-serif;
          "
        >
          {{ medico.strip() }}
        </div>
        {% endfor %}
      </td>
      {% endfor %}
    </tr>
    <tr>
      <td>NOTURNO</td>
      {% for row in noturno_rows[11:22] %}
      <td>
        {% for medico in row.split(',') %}
        <div
          style="
            border-bottom: 1px solid #ddd;
            padding: 2px;
            font-size: 10px;
            font-family: 'Roboto', sans-serif;
          "
        >
          {{ medico.strip() }}
        </div>
        {% endfor %}
      </td>
      {% endfor %}
    </tr>
  </tbody>
</table>

<table class="plantonistas-table">
  <thead>
    <tr>
      <th>PERIODO</th>
      {% for day, weekday in days_and_weekdays[22:] %}
      <th>
        {{ weekday[:3]|replace('Mon', 'Seg')|replace('Tue',
        'Ter')|replace('Wed', 'Qua')|replace('Thu', 'Qui')|replace('Fri',
        'Sex')|replace('Sat', 'Sáb')|replace('Sun', 'Dom') }}
      </th>
      {% endfor %} {% for _ in range(11 - days_and_weekdays[22:]|length) %}
      <th style="visibility: hidden">&nbsp;</th>
      {% endfor %}
    </tr>
    <tr>
      <th>DIA</th>
      {% for day, weekday in days_and_weekdays[22:] %}
      <th>{{ day }}</th>
      {% endfor %} {% for _ in range(11 - days_and_weekdays[22:]|length) %}
      <th style="visibility: hidden">&nbsp;</th>
      {% endfor %}
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>DIURNO</td>
      {% for row in diurno_rows[22:] %}
      <td>
        {% for medico in row.split(',') %}
        <div
          style="
            border-bottom: 1px solid #ddd;
            padding: 2px;
            font-size: 10px;
            font-family: 'Roboto', sans-serif;
          "
        >
          {{ medico.strip() }}
        </div>
        {% endfor %}
      </td>
      {% endfor %} {% for _ in range(11 - diurno_rows[22:]|length) %}
      <td style="visibility: hidden">&nbsp;</td>
      {% endfor %}
    </tr>
    <tr>
      <td>NOTURNO</td>
      {% for row in noturno_rows[22:] %}
      <td>
        {% for medico in row.split(',') %}
        <div
          style="
            border-bottom: 1px solid #ddd;
            padding: 2px;
            font-size: 10px;
            font-family: 'Roboto', sans-serif;
          "
        >
          {{ medico.strip() }}
        </div>
        {% endfor %}
      </td>
      {% endfor %} {% for _ in range(11 - noturno_rows[22:]|length) %}
      <td style="visibility: hidden">&nbsp;</td>
      {% endfor %}
    </tr>
  </tbody>
</table>
{% else %}
<p
  style="
    text-align: center;
    font-size: 14px;
    font-family: 'Roboto', sans-serif;
    color: #555;
  "
>
  Não há dados inseridos ainda nesta tabela.
</p>
{% endif %}
